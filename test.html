<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mobile-Friendly Metaballs</title>
    <style>
      body {
        margin: 0;
        overflow: hidden;
        background-color: black;
      }

      .blob-container {
        position: fixed;
        width: 100vw;
        height: 100vh;
      }

      .blob {
        position: absolute;
        width: 150px;
        height: 150px;
        background-color: DeepPink;
        border-radius: 50%;
        filter: url(#goo);
        opacity: 0.8;
      }

      /* Dynamic color changes */
      @keyframes colorChange {
        0% {
          background-color: DeepPink;
        }
        25% {
          background-color: DodgerBlue;
        }
        50% {
          background-color: LimeGreen;
        }
        75% {
          background-color: Gold;
        }
        100% {
          background-color: DeepPink;
        }
      }
    </style>
  </head>
  <body>
    <!-- SVG Filter for Metaballs Effect -->
    <svg width="0" height="0">
      <defs>
        <filter id="goo">
          <feGaussianBlur in="SourceGraphic" stdDeviation="15" result="blur" />
          <feColorMatrix
            in="blur"
            mode="matrix"
            values="1 0 0 0 0
                            0 1 0 0 0
                            0 0 1 0 0
                            0 0 0 20 -5"
            result="goo"
          />
          <feComposite in="SourceGraphic" in2="goo" operator="atop" />
        </filter>
      </defs>
    </svg>

    <!-- Container for the blobs -->
    <div class="blob-container"></div>

    <script>
      const container = document.querySelector(".blob-container");
      const numBlobs = 8; // Adjust for performance

      const colors = ["DeepPink", "DodgerBlue", "LimeGreen", "Gold"];
      let currentColorIndex = 0;

      function createBlob() {
        const blob = document.createElement("div");
        blob.classList.add("blob");

        // Set random position
        blob.style.left = Math.random() * window.innerWidth + "px";
        blob.style.top = Math.random() * window.innerHeight + "px";

        container.appendChild(blob);
        animateBlob(blob);
      }

      function animateBlob(blob) {
        let speedX = (Math.random() - 0.5) * 2;
        let speedY = (Math.random() - 0.5) * 2;

        function move() {
          let x = parseFloat(blob.style.left);
          let y = parseFloat(blob.style.top);

          x += speedX;
          y += speedY;

          // Bounce off edges
          if (x < 0 || x > window.innerWidth - 150) speedX *= -1;
          if (y < 0 || y > window.innerHeight - 150) speedY *= -1;

          blob.style.left = x + "px";
          blob.style.top = y + "px";

          requestAnimationFrame(move);
        }

        move();
      }

      function updateBlobColors() {
        currentColorIndex = (currentColorIndex + 1) % colors.length;
        document.querySelectorAll(".blob").forEach((blob) => {
          blob.style.backgroundColor = colors[currentColorIndex];
        });
      }

      // Create blobs
      for (let i = 0; i < numBlobs; i++) {
        createBlob();
      }

      // Change colors on scroll
      window.addEventListener("scroll", updateBlobColors);

      // Resize event
      window.addEventListener("resize", () => {
        document.querySelectorAll(".blob").forEach((blob) => {
          blob.style.left = Math.random() * window.innerWidth + "px";
          blob.style.top = Math.random() * window.innerHeight + "px";
        });
      });
    </script>
  </body>
</html>
